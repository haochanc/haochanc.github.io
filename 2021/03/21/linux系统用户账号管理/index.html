<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>linux系统用户账号管理 | haochan&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  <meta name="keywords" content="blog">
  
  <meta name="description" content="linux系统用户账号管理用户账号的管理工作主要涉及到用户账号的添加、修改和删除。添加用户账号就是在系统中创建一个新账号，然后为新账号分配用户号、用户组、主目录和登录Shell等资源。刚添加的账号是被锁定的，无法使用  添加新的用户账号  useradd 选项 用户名 选项 -c comment 指定一段注释性描述。 -d 目录 指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录">
<meta name="keywords" content="blog">
<meta property="og:type" content="article">
<meta property="og:title" content="linux系统用户账号管理">
<meta property="og:url" content="https://haochanc.github.io/2021/03/21/linux系统用户账号管理/index.html">
<meta property="og:site_name" content="haochan&#39;s blog">
<meta property="og:description" content="linux系统用户账号管理用户账号的管理工作主要涉及到用户账号的添加、修改和删除。添加用户账号就是在系统中创建一个新账号，然后为新账号分配用户号、用户组、主目录和登录Shell等资源。刚添加的账号是被锁定的，无法使用  添加新的用户账号  useradd 选项 用户名 选项 -c comment 指定一段注释性描述。 -d 目录 指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录">
<meta property="og:locale" content="Chinese">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/006VBoWSly1fx5ao9hjalj30s80myn22.jpg">
<meta property="og:updated_time" content="2021-03-21T11:18:06.358Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="linux系统用户账号管理">
<meta name="twitter:description" content="linux系统用户账号管理用户账号的管理工作主要涉及到用户账号的添加、修改和删除。添加用户账号就是在系统中创建一个新账号，然后为新账号分配用户号、用户组、主目录和登录Shell等资源。刚添加的账号是被锁定的，无法使用  添加新的用户账号  useradd 选项 用户名 选项 -c comment 指定一段注释性描述。 -d 目录 指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录">
<meta name="twitter:image" content="http://ww1.sinaimg.cn/large/006VBoWSly1fx5ao9hjalj30s80myn22.jpg">
  
    <link rel="alternate" href="/atom.xml" title="haochan&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/images/kk.jpg">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlight.css">
  <script>
  let antiquityStorage = window.sessionStorage.getItem('antiquitySessionStorage');
  if (antiquityStorage == '' || antiquityStorage == null) {
    var antiquityLoader = '<div id="loaderbox"><div class="loader"><div class="load-roll"><div class="load-top"></div><div class="load-right"></div><div class="load-bottom"></div></div></div></div>';
    document.write(antiquityLoader);
    document.body.style.overflow = 'hidden'
  }
  </script>
</head>
</html>
<body>
  <div id="fullpage" class="mobile-nav-right">
    
      <div id="wrapper" style="background-image: url(/images/mm.jpeg)" title="图片来自网络">
    
    
      <header id="header">
  <div id="nav-toggle" class="nav-toggle"></div>
  <div class="head-box global-width">
    <nav class="nav-box nav-right">
      
        <a class="nav-item" href="/" title
        
        >首页</a>
      
        <a class="nav-item" href="/archives" title
        
        >归档</a>
      
    </nav>
  </div>
</header>
      <div id="middlecontent" title class="global-width sidebar-right">
        <section id="main"><article id="title-linux系统用户账号管理" class="article global-container article-type-title" itemscope itemprop="blogPost">
  
    <header class="article-header">
      
  
    <h1 class="article-title" itemprop="name">
      linux系统用户账号管理
    </h1>
  

    </header>
  
  <div class="article-meta">
    <a href="/2021/03/21/linux系统用户账号管理/" class="article-date">
  <time datetime="2021-03-21T11:17:08.000Z" itemprop="datePublished">2021-03-21</time>
</a>
    
    
  </div>
  
    <span id="busuanzi_container_page_pv">
      本文总阅读量<span id="busuanzi_value_page_pv"></span>次
    </span>
  

  <div class="article-inner">
    
    <div class="article-content article-content-cloud" itemprop="articleBody">
      
        <h4 id="linux系统用户账号管理"><a href="#linux系统用户账号管理" class="headerlink" title="linux系统用户账号管理"></a>linux系统用户账号管理</h4><p>用户账号的管理工作主要涉及到用户账号的添加、修改和删除。<br>添加用户账号就是在系统中创建一个新账号，然后为新账号分配用户号、用户组、主目录和登录Shell等资源。刚添加的账号是被锁定的，无法使用</p>
<ol>
<li>添加新的用户账号</li>
</ol>
<pre><code>useradd 选项 用户名</code></pre><ul>
<li>选项</li>
<li>-c comment 指定一段注释性描述。</li>
<li>-d 目录 指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录</li>
<li>-g 用户组 指定用户所属的用户组</li>
<li>-G 用户组，用户组 指定用户所属的附加组</li>
<li>-s Shell文件 指定用户的登录Shell</li>
<li>-u 用户号 指定用户的用户号，如果同时有-o选项，则可以重复使用其他用户的标识号。</li>
</ul>
<p>实例1:</p>
<pre><code>useradd –d /usr/sam -m sam</code></pre><p>此命令创建了一个用户sam，其中-d和-m选项用来为登录名sam产生一个主目录/usr/sam（/usr为默认的用户主目录所在的父目录）</p>
<p>实例2:</p>
<pre><code>useradd -s /bin/sh -g group –G adm,root gem</code></pre><p>此命令新建了一个用户gem，该用户的登录Shell是 /bin/sh，它属于group用户组，同时又属于adm和root用户组，其中group用户组是其主组。</p>
<p>这里可能新建组：groupadd group及groupadd adm</p>
<p>增加用户账号就是在/etc/passwd文件中为新用户增加一条记录，同时更新其他系统文件如/etc/shadow, /etc/group等。</p>
<ol start="2">
<li>删除用户  </li>
</ol>
<p>如果一个用户的账号不再使用，可以从系统中删除。删除用户账号就是要将/etc/passwd等系统文件中的该用户记录删除，必要时还删除用户的主目录</p>
<pre><code>userdel 选项 用户名</code></pre><p>常用的选项是 <em>-r</em>，它的作用是把用户的主目录一起删除<br>实例1:</p>
<pre><code>userdel -r sam</code></pre><p>此命令删除用户sam在系统文件中（主要是/etc/passwd, /etc/shadow, /etc/group等）的记录，同时删除用户的主目录。  </p>
<ol start="3">
<li>修改账号<br>修改用户账号就是根据实际情况更改用户的有关属性，如用户号、主目录、用户组、登录Shell等。</li>
</ol>
<pre><code>usermod 选项 用户名</code></pre><p>常用的选项包括-c, -d, -m, -g, -G, -s, -u以及-o等，这些选项的意义与useradd命令中的选项一样，可以为用户指定新的资源值。<br>另外，有些系统可以使用选项：-l 新用户名<br>这个选项指定一个新的账号，即将原来的用户名改为新的用户名。  </p>
<ol start="4">
<li>用户口令的管理  </li>
</ol>
<pre><code>passwd 选项 用户名</code></pre><ul>
<li>选项：</li>
<li>-l 锁定口令，即禁用账号。</li>
<li>-u 口令解锁。</li>
<li>-d 使账号无口令。</li>
<li>-f 强迫用户下次登录时修改口令。</li>
</ul>
<h4 id="linux用户组管理"><a href="#linux用户组管理" class="headerlink" title="linux用户组管理"></a>linux用户组管理</h4><p>每个用户都有一个用户组，系统可以对一个用户组中的所有用户进行集中管理。不同Linux 系统对用户组的规定有所不同，如Linux下的用户属于与它同名的用户组，这个用户组在创建用户时同时创建。<br>用户组的管理涉及用户组的添加、删除和修改。组的增加、删除和修改实际上就是对/etc/group文件的更新</p>
<ol>
<li>增加一个新的用户组</li>
</ol>
<pre><code>groupadd 选项 用户组</code></pre><ul>
<li>选项</li>
<li>-g GID 指定新用户组的组标识号（GID）</li>
<li>-o 一般与-g选项同时使用，表示新用户组的GID可以与系统已有用户组的GID相同</li>
</ul>
<ol start="2">
<li>删除一个已有的用户组</li>
</ol>
<pre><code>groupdel 用户组</code></pre><ol start="3">
<li>修改用户组属性</li>
</ol>
<pre><code>groupmod 选项 用户组</code></pre><ul>
<li>选项</li>
<li>-g GID 为用户组指定新的组标识号</li>
<li>-o 与-g选项同时使用，用户组的新GID可以与系统已有用户组的GID相同</li>
<li>-n新用户组 将用户组的名字改为新名字</li>
</ul>
<ol start="4">
<li>如果一个用户同时属于多个用户组，那么用户可以在用户组之间切换，以便具有其他用户组的权限</li>
</ol>
<pre><code>newgrp root</code></pre><h4 id="与用户账号有关的系统文件"><a href="#与用户账号有关的系统文件" class="headerlink" title="与用户账号有关的系统文件"></a>与用户账号有关的系统文件</h4><p>完成用户管理的工作有许多种方法，但是每一种方法实际上都是对有关的系统文件进行修改。<br>与用户和用户组相关的信息都存放在一些系统文件中，这些文件包括/etc/passwd, /etc/shadow, /etc/group等。</p>
<ol>
<li>/etc/passwd文件<br><img src="http://ww1.sinaimg.cn/large/006VBoWSly1fx5ao9hjalj30s80myn22.jpg" alt></li>
</ol>
<pre><code>用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录Shell</code></pre><ol start="2">
<li>/etc/shadow文件</li>
</ol>
<pre><code>    root@192.168.1.166 :cat /etc/shadow
root:$6$C6gtw/jh1mG9qmAL$a0QvxpnzY.7egtlOue7dJ1qaSpTm4b46vzlM9zY6Lbc/b2xRQy0lFUQID8qSNXbN/7//Z3dpZhmlYQzaU9d5W/::0:99999:7:::
bin:*:17632:0:99999:7:::
daemon:*:17632:0:99999:7:::
adm:*:17632:0:99999:7:::
lp:*:17632:0:99999:7:::
sync:*:17632:0:99999:7:::
shutdown:*:17632:0:99999:7:::
halt:*:17632:0:99999:7:::
mail:*:17632:0:99999:7:::
operator:*:17632:0:99999:7:::
games:*:17632:0:99999:7:::
ftp:*:17632:0:99999:7:::
nobody:*:17632:0:99999:7:::
systemd-network:!!:17836::::::
dbus:!!:17836::::::
polkitd:!!:17836::::::
sshd:!!:17836::::::
postfix:!!:17836::::::
mysql:!!:17841::::::
dockerroot:!!:17843::::::
chan:$6$Wl7j8HnY$EXIs2K2z5IoxqBgUsB/QDKKDzQGVlOM.Nyqp/gGK02S/HruhVDsZvjJZVA3iqnTai0iYx2/CKwznAbvRhI7Q6.:17844:0:99999:7:::
登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志</code></pre><ol start="3">
<li>/etc/group文件</li>
</ol>
<pre><code>    root:x:0:
bin:x:1:
wheel:x:10:
cdrom:x:11:
mail:x:12:postfix
man:x:15:
dialout:x:18:
dbus:x:81:
polkitd:x:998:
ssh_keys:x:997:
sshd:x:74:
postdrop:x:90:
postfix:x:89:
mysql:x:27:
cgred:x:996:
dockerroot:x:995:
chan:x:1000:chan
组名:口令:组标识号:组内用户列表</code></pre>
      
    </div>
    
      <footer class="article-footer">
        完
      </footer>
    
  </div>
  
    
<nav id="article-nav">
  <div class="article-nav-block">
    
  </div>
  <div class="article-nav-block">
    
      <a href="/2019/07/19/test/" id="article-nav-older" class="article-nav-link-wrap">
        <div class="article-nav-title">test</div>
        <strong class="article-nav-caption"></strong>
      </a>
    
  </div>
</nav>

    
<div id="gitmentContainer"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
var gitment = new Gitment({
  owner: 'haochanc',
  repo: 'haochanc.github.io',
  oauth: {
    client_id: 'ece3337c08ff6f853acc',
    client_secret: '892b8fe3400f057ab9eb1f01f7983e9bd70426bc',
  },
})
gitment.render('gitmentContainer')
</script>


  
  
</article>
</section>
        <aside id="sidebar">
  
    <div class="widget-box">
  <div class="avatar-box">
    <img class="avatar" src="/images/tx.jpeg" title="头像来自网络"></img>
    <h3 class="avatar-name">
      
        好馋
      
    </h3>
    <p class="avatar-slogan">
      爱折腾的程序员
    </p>
  </div>
</div>


  
    

  
    

  
    
  
    
  <div class="widget-box">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li></ul>
    </div>
  </div>

  
    
  <div class="widget-box">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/03/21/linux系统用户账号管理/">linux系统用户账号管理</a>
          </li>
        
          <li>
            <a href="/2019/07/19/test/">test</a>
          </li>
        
          <li>
            <a href="/2019/07/19/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
      <div class="widget-box">
    <h3 class="widget-title">友链</h3>
    <div class="widget">
      
        <a style="display: block;" href="https://github.com/haochanc/" title target='_blank'
        >爱吃的小馋猫</a>
      
    </div>
  </div>

  
</aside>
      </div>
      <footer id="footer">
  <div class="foot-box global-width">
    &copy; 2021 Chan Hao &nbsp;&nbsp;
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    &nbsp;|&nbsp;主题 <a href="https://github.com/yiluyanxia/hexo-theme-antiquity">antiquity</a>
    <br>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  </div>

      <script src="https://code.jquery.com/jquery-2.0.3.min.js"></script>
<script>
if (!window.jQuery) {
var script = document.createElement('script');
script.src = "/js/jquery-2.0.3.min.js";
document.body.write(script);
}
</script>

  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



    </div>
    <nav id="mobile-nav" class="mobile-nav-box">
  <div class="mobile-nav-img mobile-nav-top"></div>
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
  <div class="mobile-nav-img  mobile-nav-bottom"></div>
</nav>    
  </div>
</body>
</html>